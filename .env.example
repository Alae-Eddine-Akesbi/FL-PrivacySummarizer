# Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_HEALTH_TOPIC=health-documents
KAFKA_FINANCE_TOPIC=finance-documents
KAFKA_LEGAL_TOPIC=legal-documents
KAFKA_INFERENCE_TOPIC=inference-requests

# Flower Configuration
FLOWER_SERVER_ADDRESS=flower-server:8080
NUM_ROUNDS=10
STEPS_PER_ROUND=50
MIN_FIT_CLIENTS=3
MIN_EVALUATE_CLIENTS=3
MIN_AVAILABLE_CLIENTS=3

# Model Configuration
MODEL_NAME=pszemraj/led-large-book-summary
MAX_INPUT_LENGTH=8192
MAX_TARGET_LENGTH=512
LOAD_IN_4BIT=true
USE_GRADIENT_CHECKPOINTING=true

# FedProx Configuration
FEDPROX_MU=0.01
LEARNING_RATE=2e-5
WEIGHT_DECAY=0.01

# LoRA Configuration
LORA_R=16
LORA_ALPHA=32
LORA_DROPOUT=0.05
LORA_TARGET_MODULES=q_proj,v_proj

# Dataset Configuration
# DATASET_SIZE_PER_CLIENT=20000  # Production: 20k documents
DATASET_SIZE_PER_CLIENT=200      # Testing: 200 documents pour validation rapide
TRAIN_TEST_SPLIT=0.9

# Client Identification
CLIENT_ID=health
# Options: health, finance, legal

# Dashboard Configuration
DASHBOARD_PORT=8501
FLOWER_UI_PORT=8080

# Logging
LOG_LEVEL=INFO
LOG_FILE_PATH=/app/logs

# Checkpoint Configuration
CHECKPOINT_DIR=/app/checkpoints
SAVE_EVERY_N_ROUNDS=1
